(this["webpackJsonpreact-pomodoro-clock"]=this["webpackJsonpreact-pomodoro-clock"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),l=a.n(c),s=(a(7),a(10)),o=a(2),i=a(0),m=a(3);var E=function(){return r.a.createElement("header",{id:"App-header"},r.a.createElement("h1",null,"Pomodoro",r.a.createElement("span",{className:"react"},"Cl",r.a.createElement(i.b.Provider,{value:{className:"react-icon"}},r.a.createElement(m.c,null)),"ck")),r.a.createElement("p",null,"Powered by React"))};var u,p=function(){return r.a.createElement("footer",{id:"App-footer"},r.a.createElement("p",null,"Design and develop by"," ",r.a.createElement("a",{href:"mailto:info@paolodullano.com"},"Dani Paolo S. Dullano")))},d=a(5),b=a.n(d),N=a(9),T=Object(n.createContext)(),h=a(4),v=function(e){return e<10?"0".concat(e):"".concat(e)},f=function(){var e=document.getElementById("keysound");e.currentTime=0,e.play()};var I=function(){var e=Object(n.useContext)(T),t=e.appState,a=e.dispatch,c=t.startTimer,l=t.timer,s=t.timerType,o=t.breaklength,E=t.sessionlength,p=Object(n.useCallback)((function(){u=Object(h.setPreciseInterval)((function(){return a({type:"DECREMENT_TIMER"})}),1e3),a({type:"BEGIN_COUNTDOWN",timerInterval:u})}),[a]),d=Object(n.useCallback)((function(e,t){a({type:"SWITCH_TIMER",timerType:t,timer:e})}),[a]);return Object(n.useEffect)((function(){function e(){return new Promise((function(e,t){var a=setTimeout((function(){"Session"===s?(Object(h.clearPreciseInterval)(u),d(60*o,"Break")):"Break"===s&&(Object(h.clearPreciseInterval)(u),d(60*E,"Session")),document.getElementById("pomodoro-clock").classList.add("shakeme"),clearTimeout(a),e("switch timer")}),0)}))}function t(){return new Promise((function(e,t){var a=setTimeout((function(){!function(){var e=document.getElementById("beep");e.currentTime=0,e.play()}(),clearTimeout(a),e("shake the app")}),100)}))}function a(){return new Promise((function(e,t){var a=setTimeout((function(){p(),document.getElementById("pomodoro-clock").classList.remove("shakeme"),e("start new timer"),clearTimeout(a)}),0)}))}function n(){return(n=Object(N.a)(b.a.mark((function n(){var r,c,l;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:return r=n.sent,console.log(r),n.next=6,t();case 6:return c=n.sent,console.log(c),n.next=10,a();case 10:l=n.sent,console.log(l);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}0===l&&function(){n.apply(this,arguments)}()}),[l,p,o,E,d,s]),Object(n.useEffect)((function(){!1===c?Object(h.clearPreciseInterval)(u):p()}),[c,p]),r.a.createElement("section",{id:"clock-switches"},r.a.createElement(i.b.Provider,{value:{className:"btn-icon"}},r.a.createElement("button",{onClick:function(){!1===c?a({type:"SET_TIMER",startTimer:!0}):!0===c&&(a({type:"SET_TIMER",startTimer:!1}),Object(h.clearPreciseInterval)(u)),f()},className:"btn flex-btn"},r.a.createElement(m.b,null)," play / ",r.a.createElement(m.a,null),"pause")),r.a.createElement(i.b.Provider,{value:{className:"btn-icon"}},r.a.createElement("button",{onClick:function(){a({type:"RESET_CLOCK"}),clearInterval(u),f()},className:"btn flex-btn"},r.a.createElement(m.d,null)," reset")))};var R=function(){var e=Object(n.useContext)(T).appState,t=e.timer,a=e.timerType,c=v(Math.floor(t/60)),l=v(t%60);return r.a.createElement("div",{id:"center-panel",className:"panel"},r.a.createElement("div",{className:"clock-screen"},r.a.createElement("label",{className:"timer-label"},a),r.a.createElement("h3",{className:"time-left"},c,":",l)))};var S=function(){var e=Object(n.useContext)(T),t=e.appState,a=e.dispatch,c=t.breaklength,l=t.startTimer,s=t.timerType;return r.a.createElement("aside",{id:"left-panel",className:"panel aside-panel"},r.a.createElement("label",{htmlFor:"",className:"panel-label"},"Break Length"),r.a.createElement("div",{className:"panel-screen"},r.a.createElement("h3",{className:"editable-counter"},c)),r.a.createElement("div",{className:"panel-controls"},r.a.createElement("button",{onClick:function(){!1===l&&1!==c&&("Break"===s?(a({type:"DECREMENT_BREAK"}),a({type:"DECREMENT_BREAK_TIMER",timer:60*c-60})):a({type:"DECREMENT_BREAK"})),f()},className:"btn panel-btn"},"-"),r.a.createElement("button",{onClick:function(){!1===l&&60!==c&&("Break"===s?(a({type:"INCREMENT_BREAK"}),a({type:"DECREMENT_BREAK_TIMER",timer:60*c+60})):a({type:"INCREMENT_BREAK"})),f()},className:"btn panel-btn"},"+")))};var y=function(){var e=Object(n.useContext)(T),t=e.appState,a=e.dispatch,c=t.sessionlength,l=t.startTimer,s=t.timerType;return r.a.createElement("aside",{id:"right-panel",className:"panel aside-panel"},r.a.createElement("label",{htmlFor:"",className:"panel-label"},"Session Length"),r.a.createElement("div",{className:"panel-screen"},r.a.createElement("h3",{className:"editable-counter"},c)),r.a.createElement("div",{className:"panel-controls"},r.a.createElement("button",{onClick:function(){!1===l&&1!==c&&("Session"===s?(a({type:"DECREMENT_SESSION"}),a({type:"INCREMENT_SESSION_TIMER",timer:60*c-60})):a({type:"DECREMENT_SESSION"})),f()},className:"btn"},"-"),r.a.createElement("button",{onClick:function(){!1===l&&60!==c&&("Session"===s?(a({type:"INCREMENT_SESSION"}),a({type:"INCREMENT_SESSION_TIMER",timer:60*c+60})):a({type:"INCREMENT_SESSION"})),f()},className:"btn"},"+")))};var k=function(){return r.a.createElement("main",{id:"App-body"},r.a.createElement("section",{className:"center-screen"},r.a.createElement(S,null),r.a.createElement(R,null),r.a.createElement(y,null)),r.a.createElement(I,null))};var C=function(){var e={breaklength:5,sessionlength:25,startTimer:!1,timerType:"Session",timer:1500,timerInterval:"",breaktime:""},t=Object(n.useReducer)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INCREMENT_BREAK":return Object(o.a)({},t,{breaklength:t.breaklength+1});case"DECREMENT_BREAK":return Object(o.a)({},t,{breaklength:t.breaklength-1});case"INCREMENT_SESSION":return Object(o.a)({},t,{sessionlength:t.sessionlength+1});case"DECREMENT_SESSION":return Object(o.a)({},t,{sessionlength:t.sessionlength-1});case"INCREMENT_BREAK_TIMER":case"DECREMENT_BREAK_TIMER":case"INCREMENT_SESSION_TIMER":case"DECREMENT_SESSION_TIMER":return Object(o.a)({},t,{timer:a.timer});case"SET_TIMER":return Object(o.a)({},t,{startTimer:a.startTimer});case"BEGIN_COUNTDOWN":return Object(o.a)({},t,{timerInterval:a.timerInterval});case"INCREMENT_TIMER":return Object(o.a)({},t,{timer:t.timer+1});case"DECREMENT_TIMER":return Object(o.a)({},t,{timer:t.timer-1});case"SWITCH_TIMER":return Object(o.a)({},t,{timerType:a.timerType,timer:a.timer});case"RESET_CLOCK":return Object(o.a)({},t,{breaklength:5,sessionlength:25,startTimer:!1,timerType:"Session",timer:1500,accInterval:"",breaktime:""});default:return t}}),e),a=Object(s.a)(t,2),c=a[0],l=a[1];return r.a.createElement(T.Provider,{value:{appState:c,dispatch:l}},r.a.createElement("div",{id:"pomodoro-clock",className:"App"},r.a.createElement(E,null),r.a.createElement(k,null),r.a.createElement(p,null),r.a.createElement("audio",{id:"keysound",className:"hidden",src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1533087306/sample-swap/sfx-and-unusual-sounds/bleeps-blips-blonks-blarts-and-zaps/simpletone.mp3"}),r.a.createElement("audio",{id:"beep",preload:"auto",className:"hidden",src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1536336611/sample-swap/sfx-and-unusual-sounds/electro-and-synthetic/clock_radio_alarm.mp3"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.7bd4afe8.chunk.js.map